function c(t){return!isNaN(t)&&function(a){return(a|0)===a}(parseFloat(t))}$(document).ready(function(){$(quantity).on("input",function(t){c(t.originalEvent.data)||$(this).val($(this).val().replace(t.originalEvent.data,"")),!c($(quantity).val())||parseInt($(quantity).val())<parseInt($(quantity).data("min"))?$(quantity).val(parseInt($(quantity).data("min"))):parseInt($(quantity).val())>parseInt($(quantity).data("max"))&&$(quantity).val(parseInt($(quantity).data("max")))}),$(".btn-minus").on("click",function(){parseInt($(quantity).val())>parseInt($(quantity).data("min"))&&$(quantity).val(parseInt($(quantity).val())-1)}),$(".btn-plus").on("click",function(){parseInt($(quantity).val())<parseInt($(quantity).data("max"))&&$(quantity).val(parseInt($(quantity).val())+1)}),$(window).width()>767&&$(".product-preview-image").hiZoom({width:$(".product-preview-image").width(),position:"right"}),$(".product-images img").each(function(){$(this).on("click",function(){let t=$(this).attr("src");$(".product-preview-image").find("img").each(function(){$(this).attr("src",t)})})}),$(".product-images").on("wheel",function(t){t.preventDefault();let a=$(this).find(".track");t.originalEvent.wheelDelta>0?a.scrollLeft(a.scrollLeft()-25):a.scrollLeft(a.scrollLeft()+25)}),$(".sub-pages .nav-link").each(function(){$(this).on("click",function(){$(this).parent().hasClass("active")||($(this).addClass("active").parent().addClass("active").siblings().removeClass("active").find(".nav-link").removeClass("active"),$(".pages .page").slideUp(),$("#"+$(this).data("page")).slideDown())})}),$(".similar-products-carousel").owlCarousel({loop:!0,nav:!0,lazyLoad:!0,margin:15,items:4,navText:["<i class='hot-deal-btnl'></i>","<i class='hot-deal-btnr'></i>"],responsive:{0:{items:2},600:{items:2},960:{items:4},1200:{items:4}}}),$("#add-to-cart").on("click",function(){let t=new URL(window.location.href),a={quantity:parseInt($("#quantity").val()),product:t.pathname.split("/").slice(-1)[0]},l=document.cookie.split("; ").filter(e=>e.includes("cartId="));l.length>0&&(a.cart_id=l[0].replace("cartId=","")),$.ajax(cardUrl,{method:"POST",data:a,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){const s=new Date().getTime()+30*24*60*60*1e3,o=new Date(s);document.cookie=`cartId=${e};expires=${o}; path=/`;let i=$("#cartItemsCount"),r=parseInt(i.data("count"))+a.quantity;i.data("count",r),i.text(r)},error:function(e){let n=Date.now(),s=`
        <div id="${n}" class="action-alert alert position-fixed alert-danger d-flex align-items-center mb-0 top-0 start-50" style="transition: all 0.3s ease-in-out;transform: translate(-50%, -100%);opacity:0" role="alert">
          <div>
            ${e.responseJSON.message}
          </div>
        </div>`;$(document.body).append(s);var o=document.getElementById(n);let i=new bootstrap.Alert(o);setTimeout(()=>{$("#"+n).attr("style","transition: all 0.3s ease-in-out;transform: translate(-50%, 100%); opacity:1")},50),setTimeout(()=>{$("#"+n).attr("style","transition: all 0.3s ease-in-out;transform: translate(-50%, -100%); opacity:0")},2500),setTimeout(()=>{i.close()},3e3),console.error(e)}})})});
