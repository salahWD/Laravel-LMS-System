function c(a){return!isNaN(a)&&function(t){return(t|0)===t}(parseFloat(a))}$(document).ready(function(){$(quantity).on("input",function(a){c(a.originalEvent.data)||$(this).val($(this).val().replace(a.originalEvent.data,"")),!c($(quantity).val())||parseInt($(quantity).val())<parseInt($(quantity).data("min"))?$(quantity).val(parseInt($(quantity).data("min"))):parseInt($(quantity).val())>parseInt($(quantity).data("max"))&&$(quantity).val(parseInt($(quantity).data("max")))}),$(".btn-minus").on("click",function(){parseInt($(quantity).val())>parseInt($(quantity).data("min"))&&$(quantity).val(parseInt($(quantity).val())-1)}),$(".btn-plus").on("click",function(){parseInt($(quantity).val())<parseInt($(quantity).data("max"))&&$(quantity).val(parseInt($(quantity).val())+1)}),$(window).width()>767&&$(".product-preview-image").hiZoom({width:$(".product-preview-image").width(),position:"right"}),$(".product-images img").each(function(){$(this).on("click",function(){let a=$(this).attr("src");$(".product-preview-image").find("img").each(function(){$(this).attr("src",a)})})}),$(".product-images").on("wheel",function(a){a.preventDefault();let t=$(this).find(".track");a.originalEvent.wheelDelta>0?t.scrollLeft(t.scrollLeft()-25):t.scrollLeft(t.scrollLeft()+25)}),$(".sub-pages .nav-link").each(function(){$(this).on("click",function(){$(this).parent().hasClass("active")||($(this).addClass("active").parent().addClass("active").siblings().removeClass("active").find(".nav-link").removeClass("active"),$(".pages .page").slideUp(),$("#"+$(this).data("page")).slideDown())})}),$(".similar-products-carousel").owlCarousel({loop:!0,nav:!0,lazyLoad:!0,margin:15,items:4,navText:["<i class='hot-deal-btnl'></i>","<i class='hot-deal-btnr'></i>"],responsive:{0:{items:2},600:{items:2},960:{items:4},1200:{items:4}}}),$("#add-to-cart").on("click",function(){let a=new URL(window.location.href),t={quantity:parseInt($("#quantity").val()),product:a.pathname.split("/").slice(-1)[0]},l=document.cookie.split("; ").filter(e=>e.includes("cartId="));l.length>0&&(t.cart_id=l[0].replace("cartId=","")),$.ajax(cardUrl,{method:"POST",data:t,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){const s=new Date().getTime()+30*24*60*60*1e3,o=new Date(s);document.cookie=`cartId=${e};expires=${o}; path=/`;let n=$("#cartItemsCount");if(n.length){let r=parseInt(n.data("count"))+t.quantity;n.data("count",r),n.text(r)}else $("#cart-btn-link").append(`<div class="badge" id="cartItemsCount" data-count="${t.quantity}">${t.quantity}</div>`)},error:function(e){let i=Date.now(),s=`
        <div id="${i}" class="action-alert alert position-fixed alert-danger d-flex align-items-center mb-0 top-0 start-50" style="transition: all 0.3s ease-in-out;transform: translate(-50%, -100%);opacity:0" role="alert">
          <div>
            ${e.responseJSON.message}
          </div>
        </div>`;$(document.body).append(s);var o=document.getElementById(i);let n=new bootstrap.Alert(o);setTimeout(()=>{$("#"+i).attr("style","transition: all 0.3s ease-in-out;transform: translate(-50%, 100%); opacity:1")},50),setTimeout(()=>{$("#"+i).attr("style","transition: all 0.3s ease-in-out;transform: translate(-50%, -100%); opacity:0")},2500),setTimeout(()=>{n.close()},3e3),console.error(e)}})})});
